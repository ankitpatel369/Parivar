@inject IViewLocalizer Localizer
@model Parivar.Dto.ViewModel.FamilyModel
@{
    Layout = null;
}
<style type="text/css">
    .single-form input {
        height: 36.5px !important;
    }
</style>

@if (Model.FamilyMemberDetails.Any())
{
    <h1 class="mb-1">@Localizer[LocalizationConstant.MemberDetails]</h1>

    <div class="courses-details-tab">
        <ul class="nav nav-justified" role="tablist" id="FamilyMembersTab">
            @for (int i = 0; i < Model.FamilyMemberDetails.Count; i++)
            {
                <li class="nav-item"><a class="@(i == 0 ? "active" : "")" data-toggle="tab" data-id="@i" href="#@i-tab" role="tab">@Localizer[LocalizationConstant.Member] @(i+1)</a></li>
            }
        </ul>
        <div class="tab-content" id="myTabContent">
            @for (int i = 0; i < Model.FamilyMemberDetails.Count; i++)
            {
                <div class="tab-pane fade @(i == 0 ? "show active" : "")" id="@i-tab" role="tabpanel">
                    <div class="row justify-content-center">
                        <div class="col-lg-12">
                            <div class="contact-form-wrapper">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.MemberName]</label>
                                            <input asp-for="FamilyMemberDetails[i].FullName" type="text" />
                                            <span asp-validation-for="FamilyMemberDetails[i].FullName" class="text-danger"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.RelationshipWithMainMember]</label>
                                            <select class="RelationShip" data-label="@Localizer[LocalizationConstant.Relationship]" asp-for="FamilyMemberDetails[i].RelationShipId" asp-items="ViewBag.RelationShipList as IEnumerable<SelectListItem>">
                                            </select>
                                            <span asp-validation-for="FamilyMemberDetails[i].RelationShipId" class="text-danger"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.BirthDate]</label>
                                            <input asp-for="FamilyMemberDetails[i].DateOfBirthInStr" type="text" class="DateOfBirth" />
                                            <span asp-validation-for="FamilyMemberDetails[i].DateOfBirthInStr" class="text-danger"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.BloodGroup]</label>
                                            <br />
                                            <select class="notranslate BloodGroup" data-label="@Localizer[LocalizationConstant.BloodGroup]" asp-for="FamilyMemberDetails[i].BloodGroupId" asp-items="ViewBag.BloodGroupList as IEnumerable<SelectListItem>">
                                            </select>
                                            <span asp-validation-for="FamilyMemberDetails[i].BloodGroupId" class="text-danger"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.Gender]</label>
                                            <br />
                                            <select class="notranslate Gender" data-label="@Localizer[LocalizationConstant.Gender]" asp-for="FamilyMemberDetails[i].Gender" asp-items="ViewBag.GenderList as IEnumerable<SelectListItem>">
                                            </select>
                                            <span asp-validation-for="FamilyMemberDetails[i].Gender" class="text-danger"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.Married]</label>
                                            <br />
                                            <select asp-for="FamilyMemberDetails[i].IsMarried" class="IsMarried" data-label="@Localizer[LocalizationConstant.Married]">
                                                <option value="true">@Localizer[LocalizationConstant.Yes]</option>
                                                <option value="false">@Localizer[LocalizationConstant.No]</option>
                                            </select>
                                            <span asp-validation-for="FamilyMemberDetails[i].IsMarried" class="text-danger"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.EducationStudy]</label>
                                            <br />
                                            <select class="Education" data-label="@Localizer[LocalizationConstant.EducationStudy]" asp-for="FamilyMemberDetails[i].EducationId" asp-items="ViewBag.EducationList as IEnumerable<SelectListItem>">
                                            </select>
                                            <span asp-validation-for="FamilyMemberDetails[i].EducationId" class="text-danger"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.Business]</label>
                                            <br />
                                            <select class="Bussioness" data-label="@Localizer[LocalizationConstant.Business]" asp-for="FamilyMemberDetails[i].BussionessId" asp-items="ViewBag.BusinessList as IEnumerable<SelectListItem>">
                                            </select>
                                            <span asp-validation-for="FamilyMemberDetails[i].BussionessId" class="text-danger"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.SurnameOfMosal]</label>
                                            <input asp-for="FamilyMemberDetails[i].MosalSurname" type="text" />
                                            <span asp-validation-for="FamilyMemberDetails[i].MosalSurname" class="text-danger"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="single-form">
                                            <label>@Localizer[LocalizationConstant.MosalVillage]</label>
                                            <input asp-for="FamilyMemberDetails[i].MosalVillage" type="text" />
                                            <span asp-validation-for="FamilyMemberDetails[i].MosalVillage" class="text-danger"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
}

<script type="text/javascript">
    $('#FamilyMembersTab').on('click', 'a', function (e) {
        dataId = $(this).data('id');
        // Remove
        $("[id$='-tab']").removeClass('show active');
        $("[href$='-tab']").removeClass('active');

        // Add
        $('a[href="#' + dataId + '- tab"]').addClass('active');
        $('#' + dataId + '-tab').addClass('show active');
        e.preventDefault();
    });
</script>